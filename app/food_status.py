from datetime import datetime, timedelta, timezone

def daily_status(data):
    # 現在の日本標準時の日付を取得
    now_date = datetime.now(timezone(timedelta(hours=+9), 'JST'))
    # 月と日を取得
    month = now_date.month
    day = now_date.day
    
    # 9月の日付が有効範囲（1日から23日）内であるか確認
    if month == 9 and 1 <= day <= 23:
        # インデックスは0から始まるため、日付から1を引く
        index = day - 1
        # 結果を格納するリスト
        result = []
        # 各施設の営業状況を取得
        for facility, status_list in data.items():
            # 状況を取得
            status = status_list[index]
            # 表示形式に変換
            if status == "0":
                status_display = "✕"
            elif status == "1":
                status_display = "◯"
            elif status == "2":
                status_display = "OC用に営業"
            else:
                status_display = status  # 8-18のような時間帯のまま表示
            # 結果を追加
            result.append(f"{facility} : {status_display}")
        return result
    else:
        return ["指定された日付が範囲外です。"]
    

def get_food_status():    
    data = {
    "ローズキッチンＡ": ["2", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "1", "1", "0", "0", "2", "1", "1", "1", "1", "0", "0", "1"],
    "802-TERRACE": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1"],
    "弁当販売": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0"],
    "麺やともえ屋": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0"],
    "パンだパンダ": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0"],
    "吉野家": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "1", "1", "0", "0", "0", "1", "1", "1", "1", "0", "0", "1"],
    "ラーメン椿家": ["0", "1", "1", "1", "1", "1", "0", "0", "1", "1", "1", "1", "1", "0", "0", "0", "1", "1", "1", "1", "0", "0", "1"],
    "セブン‐イレブン": ["0", "8-18", "8-18", "8-18", "8-18", "8-18", "1", "0", "8-18", "8-18", "1", "1", "1", "1", "0", "0", "1", "1", "1", "1", "1", "0", "1"],
    "セブンｰイレブン（朝販売）": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0"],
    "マクドナルド": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "1", "1", "0", "0", "0", "1", "1", "1", "1", "0", "0", "1"],
    "講義棟Ｃ ヤマザキ": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "1", "1", "0", "0", "0", "1", "1", "1", "1", "0", "0", "0"],
    "講義実験棟 ヤマザキ": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1"],
    "研究棟A･B フードカウンター": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "1", "1", "0", "0", "0", "1", "1", "1", "1", "0", "0", "0"],
    "片柳研究所 弁当販売": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0"]
    }
    
    now_date = datetime.now(timezone(timedelta(hours=+9), 'JST'))
    reply_text = f"【営業予定 {now_date.month}月{now_date.day}日】\n\n"
    reply_text += "\n".join(daily_status(data))

    return reply_text
