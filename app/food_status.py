from datetime import datetime, timedelta, timezone

def daily_status(data):
    now_date = datetime.now(timezone(timedelta(hours=+9), 'JST'))
    # now_date = datetime(2024, 9, 24, 12, 30, 0, 0, tzinfo=timezone(timedelta(hours=+9), 'JST'))
    month = now_date.month
    day = now_date.day
    
    result = []
    
    operating_hours = {
        "ローズキッチンＡ": "11:00 ~ 14:00",
        "802-TERRACE": "11:00 ~ 14:00",
        "弁当販売": "11:00 ~ 13:00",
        "麺やともえ屋": "11:00 ~ 14:00",
        "パンだパンダ": "11:00 ~ 14:00",
        "吉野家": "11:00 ~ 14:00",
        "ラーメン椿家": "11:00 ~ 14:00",
        "セブン‐イレブン": "8:00 ~ 20:00",
        "セブンｰイレブン（朝販売）": "◯",
        "マクドナルド": "9:30 ~ 19:00",
        "講義棟Ｃ ヤマザキ": "◯",
        "講義実験棟 ヤマザキ": "◯",
        "研究棟A･B フードカウンター": "11:00 ~ 13:00",
        "片柳研究所 弁当販売": "11:00 ~ 13:00"
    }
    
    if month == 9 and 1 <= day <= 23:
        index = day - 1
        for facility, status_list in data.items():
            status = status_list[index]
            if status == "0":
                status_display = "✕"
            elif status == "1":
                status_display = f"◯ ({operating_hours[facility]})"
            elif status == "2":
                status_display = "OC用に営業"
            else:
                status_display = status
            result.append(f"{facility} : {status_display}")
    else:
        for facility in data.keys():
            result.append(f"{facility} : {operating_hours[facility]}")
    
    return result

def get_food_status():    
    data = {
    "ローズキッチンＡ": ["2", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "1", "1", "0", "0", "2", "1", "1", "1", "1", "0", "0", "1"],
    "802-TERRACE": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1"],
    "弁当販売": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0"],
    "麺やともえ屋": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0"],
    "パンだパンダ": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0"],
    "吉野家": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "1", "1", "0", "0", "0", "1", "1", "1", "1", "0", "0", "1"],
    "ラーメン椿家": ["0", "1", "1", "1", "1", "1", "0", "0", "1", "1", "1", "1", "1", "0", "0", "0", "1", "1", "1", "1", "0", "0", "1"],
    "セブン‐イレブン": ["0", "8-18", "8-18", "8-18", "8-18", "8-18", "1", "0", "8-18", "8-18", "1", "1", "1", "1", "0", "0", "1", "1", "1", "1", "1", "0", "1"],
    "セブンｰイレブン（朝販売）": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0"],
    "マクドナルド": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "1", "1", "0", "0", "0", "1", "1", "1", "1", "0", "0", "1"],
    "講義棟Ｃ ヤマザキ": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "1", "1", "0", "0", "0", "1", "1", "1", "1", "0", "0", "0"],
    "講義実験棟 ヤマザキ": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1"],
    "研究棟A･B フードカウンター": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "1", "1", "1", "0", "0", "0", "1", "1", "1", "1", "0", "0", "0"],
    "片柳研究所 弁当販売": ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0"]
    }
    
    now_date = datetime.now(timezone(timedelta(hours=+9), 'JST'))
    reply_text = f"【営業予定 {now_date.month}月{now_date.day}日】\n\n"
    reply_text += "\n".join(daily_status(data))

    return reply_text

if __name__ == "__main__":
    print(get_food_status())